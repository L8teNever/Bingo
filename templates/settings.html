{% extends "layout.html" %}

{% block content %}
<!-- Top App Bar -->
<header class="md-top-app-bar">
    <button class="md-icon-button" onclick="toggleDrawer()">
        <span class="material-symbols-rounded">menu</span>
    </button>
    <div class="md-top-app-bar-title">Einstellungen</div>
    <div style="width: 48px;"></div>
</header>

<main style="flex: 1; display: flex; flex-direction: column; padding: var(--spacing-lg); overflow-y: auto;">

    <!-- Header Section -->
    <div class="animate-in" style="text-align: center; margin-bottom: var(--spacing-xl);">
        <div
            style="width: 80px; height: 80px; background: var(--md-secondary-container); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center; margin: 0 auto var(--spacing-lg); box-shadow: var(--md-shadow-2);">
            <span class="material-symbols-rounded"
                style="font-size: 40px; color: var(--md-on-secondary-container);">settings</span>
        </div>
        <h1 style="margin-bottom: var(--spacing-sm);">Dein Profil</h1>
        <p class="text-secondary" style="font-size: 16px;">Verwalte dein Konto und Einstellungen</p>
    </div>

    <!-- Change Password Card -->
    <div class="md-card-elevated animate-in" style="padding: var(--spacing-xl); margin-bottom: var(--spacing-lg);">
        <h3 class="md-label" style="margin-bottom: var(--spacing-lg);">Passwort Ã¤ndern</h3>
        <form action="{{ url_for('change_password') }}" method="POST">
            <div class="md-input-container">
                <label class="md-label">Neues Passwort</label>
                <div style="position: relative;">
                    <span class="material-symbols-rounded"
                        style="position: absolute; left: 16px; top: 50%; transform: translateY(-50%); color: var(--md-on-surface-variant); font-size: 20px;">lock</span>
                    <input type="password" name="new_password" class="md-input"
                        placeholder="Gib dein neues Passwort ein" required style="padding-left: 48px;">
                </div>
            </div>
            <button type="submit" class="md-button md-button-filled w-full" style="height: 48px;">
                <span class="material-symbols-rounded">save</span>
                <span>Passwort speichern</span>
            </button>
        </form>
    </div>

    <!-- Account Info Card -->
    <div class="md-card animate-in" style="padding: var(--spacing-xl);">
        <h3 class="md-label" style="margin-bottom: var(--spacing-lg);">Konto</h3>
        <div class="md-card-filled"
            style="padding: var(--spacing-lg); margin-bottom: var(--spacing-lg); display: flex; align-items: center; gap: var(--spacing-md);">
            <div
                style="width: 48px; height: 48px; background: var(--md-primary-container); border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center;">
                <span class="material-symbols-rounded" style="color: var(--md-on-primary-container);">person</span>
            </div>
            <div>
                <div class="md-label" style="margin-bottom: 4px;">Angemeldet als</div>
                <div style="font-size: 18px; font-weight: 500;">{{ current_user.username }}</div>
            </div>
        </div>
        <a href="{{ url_for('logout') }}" class="md-button md-button-outlined md-button-error w-full"
            style="height: 48px; border-color: var(--md-error); color: var(--md-error);">
            <span class="material-symbols-rounded">logout</span>
            <span>Abmelden</span>
        </a>
    </div>
</main>
{% endblock %}